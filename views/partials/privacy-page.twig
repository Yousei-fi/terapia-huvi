{% set lang = lang ?? language ?? 'fi' %}
{% set slug = slug ?? 'tietosuoja' %}
{% set privacy_defaults = {
  'fi': {
    'eyebrow': 'Tietosuoja',
    'title': 'Rekisteriseloste',
    'copy': '<p>Ylläpidän asiakasrekisteriä, jota käytetään terapiassa ja asiakassuhteen hallintaan. Tietoja säilytetään suojatuissa järjestelmissä ja poistetaan viimeistään kolmen vuoden kuluttua asiakassuhteen päättymisestä.</p>',
    'rights_heading': 'Rekisteröidyn oikeudet',
    'rights': [
      'Oikeus tarkastaa, oikaista ja poistaa omat tietonsa.',
      'Oikeus rajoittaa käsittelyä sekä vastustaa profilointia.',
      'Oikeus siirtää tiedot järjestelmästä toiseen.'
    ],
    'contact_heading': 'Tietosuojaan liittyvät yhteydenotot',
    'contact_copy': '<p>Lähetä allekirjoitettu pyyntö osoitteeseen <a href="mailto:terapia@terapiahuvi.fi" class="text-white/80 hover:text-white underline">terapia@terapiahuvi.fi</a>. Käsittelemme pyynnöt kuukauden kuluessa.</p>'
  },
  'en': {
    'eyebrow': 'Privacy',
    'title': 'Data protection summary',
    'copy': '<p>I maintain a client register used for therapy and client relationship management. Data is stored securely and deleted no later than three years after the client relationship ends.</p>',
    'rights_heading': 'Your rights',
    'rights': [
      'Access, rectify, and erase your personal data.',
      'Restrict processing and object to profiling.',
      'Request data portability to another system.'
    ],
    'contact_heading': 'Contact for privacy matters',
    'contact_copy': '<p>Send a signed request to <a href="mailto:terapia@terapiahuvi.fi" class="text-white/80 hover:text-white underline">terapia@terapiahuvi.fi</a>. I respond within one month.</p>'
  }
} %}
{% set privacy_data = privacy_defaults[lang] ?? privacy_defaults.fi %}
{% set rights = page_field_list(slug, 'rights_' ~ lang, privacy_data.rights) %}

<section class="py-16 md:py-20">
  <div class="mx-auto max-w-6xl px-4">
    <div class="text-center">
      <span class="eyebrow text-white/80">{{ page_field(slug, 'eyebrow_' ~ lang, privacy_data.eyebrow) }}</span>
      <h1 class="section-heading text-white mt-2">{{ page_field(slug, 'title_' ~ lang, privacy_data.title) }}</h1>
      <div class="prose prose-invert max-w-none mt-6 text-white/80">
        {{ page_field(slug, 'content_' ~ lang, privacy_data.copy)|raw }}
      </div>
    </div>
    <div class="mt-12 grid gap-8 md:grid-cols-2">
      <div class="rounded-3xl border border-white/20 bg-white/10 p-6 backdrop-blur">
        <h2 class="text-lg font-semibold text-white">{{ page_field(slug, 'rights_heading_' ~ lang, privacy_data.rights_heading) }}</h2>
        <ul class="mt-4 space-y-3 text-sm text-white/80">
          {% for item in rights %}
            <li class="flex items-start gap-2">
              <span class="mt-1 inline-flex h-2.5 w-2.5 flex-shrink-0 rounded-full bg-white/60"></span>
              <span>{{ item }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
      <div class="rounded-3xl border border-white/20 bg-white/10 p-6 backdrop-blur">
        <h2 class="text-lg font-semibold text-white">{{ page_field(slug, 'contact_heading_' ~ lang, privacy_data.contact_heading) }}</h2>
        <div class="mt-4 prose prose-invert max-w-none text-sm text-white/80">
          {{ page_field(slug, 'contact_copy_' ~ lang, privacy_data.contact_copy)|raw }}
        </div>
      </div>
    </div>
  </div>
</section>

