{% set lang = lang ?? language ?? 'fi' %}
{% set slug = slug ?? 'statutes-page' %}
{% set statutes_defaults = {
  'fi': {
    'eyebrow': 'Säännöt',
    'title': 'Yhdistyksen säännöt tiivistettynä',
    'copy': '<p>Tutustu yhdistyksen virallisiin sääntöihin ennen jäseneksi liittymistä. Alla on yhteenveto keskeisistä kohdista; täydellinen sääntöteksti on saatavilla pyynnöstä.</p>',
    'cta_label': 'Pyydä täydelliset säännöt sähköpostitse',
    'cta_url': 'mailto:hpp@hppry.fi'
  },
  'en': {
    'eyebrow': 'Statutes',
    'title': 'Summary of association statutes',
    'copy': '<p>Review the key points of our official statutes before joining. The full text is available on request.</p>',
    'cta_label': 'Request the full statutes by email',
    'cta_url': 'mailto:hpp@hppry.fi'
  }
} %}
{% set statutes_data = statutes_defaults[lang] ?? statutes_defaults.fi %}
{% set cards_default = lang == 'fi'
  ? [
    { 'title': '1–3. Tarkoitus ja jäsenyys', 'copy': 'Yhdistyksen tarkoitus on vähentää päihteiden käytön haittoja ja edistää tietoon perustuvaa päihdepolitiikkaa. Jäsenyys on avoin kaikille tarkoituksen hyväksyville.' },
    { 'title': '4–7. Hallinto ja kokoukset', 'copy': 'Hallitus hoitaa yhdistyksen asioita ja sen toimikausi on kalenterivuosi. Kevät- ja syyskokouksissa päätetään toiminnan suuntaviivoista.' },
    { 'title': '8–9. Koolle kutsuminen', 'copy': 'Kokoukset kutsutaan koolle vähintään 14 vuorokautta etukäteen sähköpostitse.' },
    { 'title': '10. Sääntömuutokset', 'copy': 'Sääntöjen muuttaminen vaatii 3/4 enemmistön. Yhdistyksen purkamisesta päätetään kahdessa peräkkäisessä kokouksessa.' }
  ]
  : [
    { 'title': '1–3. Purpose and membership', 'copy': 'The association reduces harms from drug use and advances evidence-based policy. Membership is open to anyone who supports our purpose.' },
    { 'title': '4–7. Governance and meetings', 'copy': 'The board manages operations for the calendar year. Spring and autumn meetings set strategy and elect leadership.' },
    { 'title': '8–9. Meeting notices', 'copy': 'General meetings are called at least 14 days in advance via email.' },
    { 'title': '10. Amendments', 'copy': 'Changing the statutes requires a three-fourths majority. Dissolution decisions are made in two consecutive meetings.' }
  ]
%}
{% set cards = page_field_pairs(slug, 'cards_' ~ lang, cards_default) %}

<section class="bg-white py-16 md:py-20">
  <div class="mx-auto max-w-6xl px-4">
    <span class="eyebrow">{{ page_field(slug, 'eyebrow_' ~ lang, statutes_data.eyebrow) }}</span>
    <h1 class="section-heading">{{ page_field(slug, 'title_' ~ lang, statutes_data.title) }}</h1>
    <div class="prose max-w-none text-slate-700">
      {{ page_field(slug, 'content_' ~ lang, statutes_data.copy)|raw }}
    </div>
    <div class="mt-10 grid gap-6 md:grid-cols-2">
      {% for card in cards %}
        <article class="rounded-3xl border border-brand-orange/15 bg-brand-cloud p-6 shadow-sm shadow-brand-orange/10">
          <h2 class="text-lg font-semibold text-slate-900">{{ card.title|default('') }}</h2>
          <p class="mt-2 text-sm text-slate-600">{{ card.copy|default('') }}</p>
        </article>
      {% endfor %}
    </div>
    <a href="{{ page_field(slug, 'cta_url_' ~ lang, statutes_data.cta_url) }}" class="mt-8 inline-flex items-center gap-2 text-sm font-semibold text-brand-orange transition hover:text-brand-orange/80">
      <span>{{ page_field(slug, 'cta_label_' ~ lang, statutes_data.cta_label) }}</span>
      <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M5 12h14" />
        <path d="M13 6l6 6-6 6" />
      </svg>
    </a>
  </div>
</section>

